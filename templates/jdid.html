{% extends "base.html" %}
{% block title %}Cours Gratuits Treehouse via Udemy{% endblock %}
{% block content %}
<style>
  .container {
    background: radial-gradient(circle at top left, #e1f5fe, #b3e5fc);
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
  }

  h1, h2 {
    text-align: center;
    color: #00695c;
    margin-bottom: 20px;
  }

  .swiper {
    width: 100%;
    height: 100%;
  }

  .swiper-slide {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .swiper-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 10px;
  }

  .swiper-button-prev,
  .swiper-button-next,
  .swiper-pagination-bullet {
    color: #00695c;
    background: #26a69a;
  }

  .card {
    border: none;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
  }

  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.2);
  }

  .btn-primary {
    background-color: #00796b;
    border-color: #00796b;
  }

  .btn-success {
    background-color: #43a047;
    border-color: #43a047;
  }
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

<section class="container my-1">
  <h1>ðŸ“˜ Apprenez Gratuitement avec Treehouse sur Udemy</h1>
  <p class="text-center text-lg text-gray-700 mb-4">
    DÃ©couvrez une sÃ©lection de cours Treehouse (ou Treeforce) mis Ã  disposition gratuitement via la plateforme Udemy. Ces cours couvrent des domaines comme le dÃ©veloppement web, Python, JavaScript, et bien plus encore !
  </p>
  
  <div class="swiper offers-swiper relative">
    <div class="swiper-wrapper">
      {% for course in free_courses %}
      <div class="swiper-slide">
        <div class="bg-white rounded-2xl h-96 p-4 flex flex-col justify-between items-center shadow-md hover:shadow-xl transition duration-300">
          <img src="{{ course.image_url }}" alt="{{ course.title }}" class="rounded-xl mb-2 w-full h-40 object-cover">
          <h3 class="text-xl font-semibold text-teal-700 text-center">{{ course.title }}</h3>
          <p class="text-center text-gray-600 text-sm">{{ course.description }}</p>
          <a href="{{ course.link }}" class="mt-3 bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 transition" target="_blank">
            ðŸŽ“ AccÃ©der au cours
          </a>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="swiper-pagination mt-4"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</section>

<div class="container my-5">
  <h2>ðŸ“š Tous les Cours Gratuits Disponibles</h2>
  <div class="row">
    {% for course in free_courses %}
    <div class="col-md-4 mb-4">
      <div class="card h-100">
        <img src="{{ course.image_url }}" class="card-img-top" alt="{{ course.title }}" style="height: 200px; object-fit: cover;">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ course.title }}</h5>
          <p class="card-text flex-grow-1" style="overflow: hidden; display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical;">
            {{ course.description }}
          </p>
          <p class="text-success fw-bold">ðŸ†“ Gratuit</p>
          <a href="{{ course.link }}" class="btn btn-primary mt-auto">ðŸŽ¥ Voir le cours</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Swiper('.offers-swiper', {
      loop: true,
      autoplay: {
        delay: 4000,
        disableOnInteraction: false,
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      breakpoints: {
        320: { slidesPerView: 1, spaceBetween: 10 },
        640: { slidesPerView: 2, spaceBetween: 20 },
        1024: { slidesPerView: 3, spaceBetween: 30 },
      },
      effect: 'slide',
      speed: 500,
    });
  });
</script>
{% endblock %}
